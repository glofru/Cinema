<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"/>
    <meta charset="utf-8"/>
    <title>API Documentation</title>
    <meta name="author" content=""/>
    <meta name="description" content=""/>

    <link href="../css/bootstrap-combined.no-icons.min.css" rel="stylesheet">
    <link href="../css/font-awesome.min.css" rel="stylesheet">
    <link href="../css/prism.css" rel="stylesheet" media="all"/>
    <link href="../css/template.css" rel="stylesheet" media="all"/>
    <!--[if lt IE 9]>
    <script src="../js/html5.js"></script>
    <![endif]-->
    <script src="../js/jquery-1.11.0.min.js"></script>
    <script src="../js/ui/1.10.4/jquery-ui.min.js"></script>
    <script src="../js/bootstrap.min.js"></script>
    <script src="../js/jquery.smooth-scroll.js"></script>
    <script src="../js/prism.min.js"></script>
    <!-- TODO: Add http://jscrollpane.kelvinluck.com/ to style the scrollbars for browsers not using webkit--><script type="text/javascript">
    function loadExternalCodeSnippets() {
        Array.prototype.slice.call(document.querySelectorAll('pre[data-src]')).forEach(function (pre) {
            var src = pre.getAttribute('data-src');
            var extension = (src.match(/\.(\w+)$/) || [, ''])[1];
            var language = 'php';

            var code = document.createElement('code');
            code.className = 'language-' + language;

            pre.textContent = '';

            code.textContent = 'Loading…';

            pre.appendChild(code);

            var xhr = new XMLHttpRequest();

            xhr.open('GET', src, true);

            xhr.onreadystatechange = function () {
                if (xhr.readyState == 4) {

                    if (xhr.status < 400 && xhr.responseText) {
                        code.textContent = xhr.responseText;

                        Prism.highlightElement(code);
                    }
                    else if (xhr.status >= 400) {
                        code.textContent = '✖ Error ' + xhr.status + ' while fetching file: ' + xhr.statusText;
                    }
                    else {
                        code.textContent = '✖ Error: File does not exist or is empty';
                    }
                }
            };

            xhr.send(null);
        });
    }

    $(document).ready(function(){
        loadExternalCodeSnippets();
    });
    $('#source-view').on('shown', function () {
        loadExternalCodeSnippets();
    })
</script>
    <link rel="shortcut icon" href="../images/favicon.ico"/>
    <link rel="apple-touch-icon" href="../images/apple-touch-icon.png"/>
    <link rel="apple-touch-icon" sizes="72x72" href="../images/apple-touch-icon-72x72.png"/>
    <link rel="apple-touch-icon" sizes="114x114" href="../images/apple-touch-icon-114x114.png"/>
</head>
<body>

<div class="navbar navbar-fixed-top">
    <div class="navbar-inner">
        <div class="container">
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <i class="icon-ellipsis-vertical"></i>
            </a>
            <a class="brand" href="../index.html">API Documentation</a>

            <div class="nav-collapse">
                <ul class="nav pull-right">                    <li class="dropdown" id="charts-menu">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                            Charts <b class="caret"></b>
                        </a>
                        <ul class="dropdown-menu">
                            <li>
                                <a href="../graphs/class.html">
                                    <i class="icon-list-alt"></i>&#160;Class hierarchy diagram
                                </a>
                            </li>
                        </ul>
                    </li>
                    <li class="dropdown" id="reports-menu">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                            Reports <b class="caret"></b>
                        </a>
                        <ul class="dropdown-menu">
                            <li>
                                <a href="../reports/errors.html">                                    <i class="icon-list-alt"></i>&#160;Errors <span class="label label-info pull-right">622</span>
                                </a>
                            </li>
                            <li>
                                <a href="../reports/markers.html">                                    <i class="icon-list-alt"></i>&#160;Markers <span class="label label-info pull-right">0</span>
                                </a>
                            </li>
                            <li>
                                <a href="../reports/deprecated.html">                                    <i class="icon-list-alt"></i>&#160;Deprecated <span class="label label-info pull-right">0</span>
                                </a>
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
    </div>
    <!--<div class="go_to_top">-->
    <!--<a href="#___" style="color: inherit">Back to top&#160;&#160;<i class="icon-upload icon-white"></i></a>-->
    <!--</div>-->
</div>

<div id="___" class="container-fluid">    <section class="row-fluid">
        <div class="span2 sidebar">    <div class="accordion" style="margin-bottom: 0">
        <div class="accordion-group">
            <div class="accordion-heading">                    <a class="accordion-toggle" data-toggle="collapse" data-target="#namespace-201214894"></a>                <a href="../namespaces/default.html" style="margin-left: 30px; padding-left: 0">\</a>
            </div>
            <div id="namespace-201214894" class="accordion-body collapsein">
                <div class="accordion-inner">
                    <ul>                            <li class="interface"><a href="../classes/Foundation.html">Foundation</a></li>                            <li class="interface"><a href="../classes/FoundationDebole.html">FoundationDebole</a></li>                            <li class="class"><a href="../classes/CAcquisto.html">CAcquisto</a></li>                            <li class="class"><a href="../classes/CAdmin.html">CAdmin</a></li>                            <li class="class"><a href="../classes/CCatalogo.html">CCatalogo</a></li>                            <li class="class"><a href="../classes/CFilm.html">CFilm</a></li>                            <li class="class"><a href="../classes/CGestoreREST.html">CGestoreREST</a></li>                            <li class="class"><a href="../classes/CGiudizio.html">CGiudizio</a></li>                            <li class="class"><a href="../classes/CHome.html">CHome</a></li>                            <li class="class"><a href="../classes/CInformazioni.html">CInformazioni</a></li>                            <li class="class"><a href="../classes/CMail.html">CMail</a></li>                            <li class="class"><a href="../classes/CMain.html">CMain</a></li>                            <li class="class"><a href="../classes/CNewsLetter.html">CNewsLetter</a></li>                            <li class="class"><a href="../classes/CRicerca.html">CRicerca</a></li>                            <li class="class"><a href="../classes/CUtente.html">CUtente</a></li>                            <li class="class"><a href="../classes/CUtility.html">CUtility</a></li>                            <li class="class"><a href="../classes/EAdmin.html">EAdmin</a></li>                            <li class="class"><a href="../classes/EData.html">EData</a></li>                            <li class="class"><a href="../classes/EInputChecker.html">EInputChecker</a></li>                            <li class="class"><a href="../classes/EVisitatore.html">EVisitatore</a></li>                            <li class="class"><a href="../classes/FPersistentManager.html">FPersistentManager</a></li>                            <li class="class"><a href="../classes/VAcquisto.html">VAcquisto</a></li>                            <li class="class"><a href="../classes/VAdmin.html">VAdmin</a></li>                            <li class="class"><a href="../classes/VCatalogo.html">VCatalogo</a></li>                            <li class="class"><a href="../classes/VError.html">VError</a></li>                            <li class="class"><a href="../classes/VFilm.html">VFilm</a></li>                            <li class="class"><a href="../classes/VGestoreREST.html">VGestoreREST</a></li>                            <li class="class"><a href="../classes/VHome.html">VHome</a></li>                            <li class="class"><a href="../classes/VInformazioni.html">VInformazioni</a></li>                            <li class="class"><a href="../classes/VRicerca.html">VRicerca</a></li>                            <li class="class"><a href="../classes/VUtente.html">VUtente</a></li>                    </ul>
                </div>
            </div>
        </div>
    </div>
        </div>
    </section>
    <section class="row-fluid">
        <div class="span10 offset2">
            <div class="row-fluid">
                <div class="span8 content class">
                    <nav><a href="../namespaces/default.html">\</a> <i class="icon-level-up"></i>                    </nav>
                    <a href="#source-view" role="button" class="pull-right btn" data-toggle="modal"><i class="icon-code"></i></a>

                    <h1><small>\</small>CMain</h1>
                    <p><em>La classe Main o FrontController dispone di metodi necessari alla corretta gestione di tutte le richieste effettuate sul nsotro sito. Ad ogni richiesta di una pagina viene interpellato al fine di ottenere il risultato atteso.</em></p><p>Class CMain</p>                    
                    <section id="summary">
                        <h2>Summary</h2>
                        <section class="row-fluid heading">
                            <section class="span4">
                                <a href="#methods">Methods</a>
                            </section>
                            <section class="span4">
                                <a href="#properties">Properties</a>
                            </section>
                            <section class="span4">
                                <a href="#constants">Constants</a>
                            </section>
                        </section>
                        <section class="row-fluid public">
                            <section class="span4">                                    <a href="../classes/CMain.html#method_badRequest" class="">badRequest()</a><br />                                    <a href="../classes/CMain.html#method_unauthorized" class="">unauthorized()</a><br />                                    <a href="../classes/CMain.html#method_forbidden" class="">forbidden()</a><br />                                    <a href="../classes/CMain.html#method_notFound" class="">notFound()</a><br />                                    <a href="../classes/CMain.html#method_methodNotAllowed" class="">methodNotAllowed()</a><br />                                    <a href="../classes/CMain.html#method_internalServerError" class="">internalServerError()</a><br />                                    <a href="../classes/CMain.html#method_run" class="">run()</a><br />                            </section>
                            <section class="span4">                                    <em>No public properties found</em>                            </section>
                            <section class="span4">                                    <em>No constants found</em>                            </section>
                        </section>
                        <section class="row-fluid protected">
                            <section class="span4">                                    <em>No protected methods found</em>                            </section>
                            <section class="span4">                                    <em>No protected properties found</em>                            </section>
                            <section class="span4">
                                <em>N/A</em>
                            </section>
                        </section>
                        <section class="row-fluid private">
                            <section class="span4">                                    <em>No private methods found</em>                            </section>
                            <section class="span4">                                    <em>No private properties found</em>                            </section>
                            <section class="span4">
                                <em>N/A</em>
                            </section>
                        </section>
                    </section>
                </div>
                <aside class="span4 detailsbar">
                    <dl>
                        <dt>File</dt>
                            <dd><a href="../files/Controller.CMain.html"><div class="path-wrapper">Controller/CMain.php</div></a></dd>                        <dt>Package</dt>
                            <dd><div class="namespace-wrapper">Default</div></dd>                        <dt>Class hierarchy</dt>
                            <dd class="hierarchy">                                <div class="namespace-wrapper">\CMain</div>
                            </dd>                    </dl>
                    <h2>Tags</h2>
                    <table class="table table-condensed">                        <tr><td colspan="2"><em>None found</em></td></tr>                    </table>
                </aside>
            </div>            <a id="methods" name="methods"></a>
            <div class="row-fluid">
                <div class="span8 content class"><h2>Methods</h2></div>
                <aside class="span4 detailsbar"></aside>
            </div>    <div class="row-fluid">
        <div class="span8 content class">
            <a id="method_badRequest" name="method_badRequest" class="anchor"></a>
            <article class="method">
                <h3 class="public">badRequest()</h3>
                <a href="#source-view" role="button" class="pull-right btn" data-toggle="modal" style="font-size: 1.1em; padding: 9px 14px"><i class="icon-code"></i></a>
                <pre class="signature" style="margin-right: 54px;">badRequest()</pre>
                <p><em></em></p>
Warning: count(): Parameter must be an array or an object that implements Countable in phar:///opt/lampp/htdocs/phpDocumentor.phar/vendor/twig/twig/lib/Twig/Extension/Core.php on line 1293

Warning: count(): Parameter must be an array or an object that implements Countable in phar:///opt/lampp/htdocs/phpDocumentor.phar/vendor/twig/twig/lib/Twig/Extension/Core.php on line 1293
            </article>
        </div>
        <aside class="span4 detailsbar">
            <h1><i class="icon-arrow-down"></i></h1>                <span class="label label-info">static</span>            <dl>            </dl>
            <h2>Tags</h2>
            <table class="table table-condensed">                    <tr><td colspan="2"><em>None found</em></td></tr>            </table>
        </aside>
    </div>    <div class="row-fluid">
        <div class="span8 content class">
            <a id="method_unauthorized" name="method_unauthorized" class="anchor"></a>
            <article class="method">
                <h3 class="public">unauthorized()</h3>
                <a href="#source-view" role="button" class="pull-right btn" data-toggle="modal" style="font-size: 1.1em; padding: 9px 14px"><i class="icon-code"></i></a>
                <pre class="signature" style="margin-right: 54px;">unauthorized()</pre>
                <p><em>Funzione che permette di visualizzare una pagina 401 Unauthorised, con relativa intestazione HTTP, se l&#039;utente tenta di accedere ad una pagina per la quale non è autorizzato.</em></p>
Warning: count(): Parameter must be an array or an object that implements Countable in phar:///opt/lampp/htdocs/phpDocumentor.phar/vendor/twig/twig/lib/Twig/Extension/Core.php on line 1293

Warning: count(): Parameter must be an array or an object that implements Countable in phar:///opt/lampp/htdocs/phpDocumentor.phar/vendor/twig/twig/lib/Twig/Extension/Core.php on line 1293
            </article>
        </div>
        <aside class="span4 detailsbar">
            <h1><i class="icon-arrow-down"></i></h1>                <span class="label label-info">static</span>            <dl>            </dl>
            <h2>Tags</h2>
            <table class="table table-condensed">                    <tr><td colspan="2"><em>None found</em></td></tr>            </table>
        </aside>
    </div>    <div class="row-fluid">
        <div class="span8 content class">
            <a id="method_forbidden" name="method_forbidden" class="anchor"></a>
            <article class="method">
                <h3 class="public">forbidden()</h3>
                <a href="#source-view" role="button" class="pull-right btn" data-toggle="modal" style="font-size: 1.1em; padding: 9px 14px"><i class="icon-code"></i></a>
                <pre class="signature" style="margin-right: 54px;">forbidden()</pre>
                <p><em>Funzione che mette a disposizione la visualizzazione ad una pagina 403 forbidden con relativa intestazione HTTP.</em></p><p>Da richiamare se l'utente accede ad una pagina riservata ad utilizzo interno dei gestori.</p>
Warning: count(): Parameter must be an array or an object that implements Countable in phar:///opt/lampp/htdocs/phpDocumentor.phar/vendor/twig/twig/lib/Twig/Extension/Core.php on line 1293

Warning: count(): Parameter must be an array or an object that implements Countable in phar:///opt/lampp/htdocs/phpDocumentor.phar/vendor/twig/twig/lib/Twig/Extension/Core.php on line 1293
            </article>
        </div>
        <aside class="span4 detailsbar">
            <h1><i class="icon-arrow-down"></i></h1>                <span class="label label-info">static</span>            <dl>            </dl>
            <h2>Tags</h2>
            <table class="table table-condensed">                    <tr><td colspan="2"><em>None found</em></td></tr>            </table>
        </aside>
    </div>    <div class="row-fluid">
        <div class="span8 content class">
            <a id="method_notFound" name="method_notFound" class="anchor"></a>
            <article class="method">
                <h3 class="public">notFound()</h3>
                <a href="#source-view" role="button" class="pull-right btn" data-toggle="modal" style="font-size: 1.1em; padding: 9px 14px"><i class="icon-code"></i></a>
                <pre class="signature" style="margin-right: 54px;">notFound()</pre>
                <p><em>Funzione che richiama una pagina 404 Not Found, con relativa intestazione HTTP, se l&#039;utente cerca una pagina inesistente sul server.</em></p>
Warning: count(): Parameter must be an array or an object that implements Countable in phar:///opt/lampp/htdocs/phpDocumentor.phar/vendor/twig/twig/lib/Twig/Extension/Core.php on line 1293

Warning: count(): Parameter must be an array or an object that implements Countable in phar:///opt/lampp/htdocs/phpDocumentor.phar/vendor/twig/twig/lib/Twig/Extension/Core.php on line 1293
            </article>
        </div>
        <aside class="span4 detailsbar">
            <h1><i class="icon-arrow-down"></i></h1>                <span class="label label-info">static</span>            <dl>            </dl>
            <h2>Tags</h2>
            <table class="table table-condensed">                    <tr><td colspan="2"><em>None found</em></td></tr>            </table>
        </aside>
    </div>    <div class="row-fluid">
        <div class="span8 content class">
            <a id="method_methodNotAllowed" name="method_methodNotAllowed" class="anchor"></a>
            <article class="method">
                <h3 class="public">methodNotAllowed()</h3>
                <a href="#source-view" role="button" class="pull-right btn" data-toggle="modal" style="font-size: 1.1em; padding: 9px 14px"><i class="icon-code"></i></a>
                <pre class="signature" style="margin-right: 54px;">methodNotAllowed()</pre>
                <p><em>Funzione che mostra una pagina 405 Metod Not Allowed, con relativa intestazione HTTP, se l&#039;utente tenta di accedere ad una pagina con un metodo per il quale la pagina non è progettata.</em></p>
Warning: count(): Parameter must be an array or an object that implements Countable in phar:///opt/lampp/htdocs/phpDocumentor.phar/vendor/twig/twig/lib/Twig/Extension/Core.php on line 1293

Warning: count(): Parameter must be an array or an object that implements Countable in phar:///opt/lampp/htdocs/phpDocumentor.phar/vendor/twig/twig/lib/Twig/Extension/Core.php on line 1293
            </article>
        </div>
        <aside class="span4 detailsbar">
            <h1><i class="icon-arrow-down"></i></h1>                <span class="label label-info">static</span>            <dl>            </dl>
            <h2>Tags</h2>
            <table class="table table-condensed">                    <tr><td colspan="2"><em>None found</em></td></tr>            </table>
        </aside>
    </div>    <div class="row-fluid">
        <div class="span8 content class">
            <a id="method_internalServerError" name="method_internalServerError" class="anchor"></a>
            <article class="method">
                <h3 class="public">internalServerError()</h3>
                <a href="#source-view" role="button" class="pull-right btn" data-toggle="modal" style="font-size: 1.1em; padding: 9px 14px"><i class="icon-code"></i></a>
                <pre class="signature" style="margin-right: 54px;">internalServerError()</pre>
                <p><em></em></p>
Warning: count(): Parameter must be an array or an object that implements Countable in phar:///opt/lampp/htdocs/phpDocumentor.phar/vendor/twig/twig/lib/Twig/Extension/Core.php on line 1293

Warning: count(): Parameter must be an array or an object that implements Countable in phar:///opt/lampp/htdocs/phpDocumentor.phar/vendor/twig/twig/lib/Twig/Extension/Core.php on line 1293
            </article>
        </div>
        <aside class="span4 detailsbar">
            <h1><i class="icon-arrow-down"></i></h1>                <span class="label label-info">static</span>            <dl>            </dl>
            <h2>Tags</h2>
            <table class="table table-condensed">                    <tr><td colspan="2"><em>None found</em></td></tr>            </table>
        </aside>
    </div>    <div class="row-fluid">
        <div class="span8 content class">
            <a id="method_run" name="method_run" class="anchor"></a>
            <article class="method">
                <h3 class="public">run()</h3>
                <a href="#source-view" role="button" class="pull-right btn" data-toggle="modal" style="font-size: 1.1em; padding: 9px 14px"><i class="icon-code"></i></a>
                <pre class="signature" style="margin-right: 54px;">run(string  <span class="argument">$url</span>)</pre>
                <p><em>Funzione principale dell&#039;applicazione che viene invocata ogni volta che viene richiesta una pagina. Svolge le seguenti funzioni:</em></p><p>1) Modifica temporanemanete le variabili, presenti nel PHP.ini, 'session.gc_probability' e 'session.gc_divisor' al fine di aumentare le possibilità di lanciare il GC delle sessioni.
Questo è stato fatto in quanto i nostri utenti registrati dovrebbero avere nei loro attributi anche informazioni di pagamento. Di conseguenza è meglio fare sì che se l'utente non ha
effettuato il logout comunque il sito abbia più probabilità di eliminarne i dati di sessione.</p>
<p>2) Controlla se è stata richiesta la sezione 'api'. In questo caso si interroga il CGestoreREST per ottenere in output oggetti in formato JSON.</p>
<p>3) Se non è stata richiamata la sezione 'api' controlla se è presente in sessione un utente Non Registrato. Nel sostro sito un oggetto salvato in sessione del tipo utente Non Registrato
deve esistere solo se la pagina richiesta è quella di confermaAcquisto. Altrimenti deve essere cancellata la sessione di quell'utente.</p>
<p>4) Se l'utente è un Utente Registrato loggato viene controllato se la password presente in sessione è la stessa presente sul DB. Questo per fare sì che se la password viene modificata
allora l'utente attualmente registrato venga eliminato dalla sessione e costretto l'utente a rieffettuare l'operzione di login. Utile nel caso di appropriazione dell'account da parte di un'entità malevola.
L'utente può resettare la password e 'cacciare' chi abbia preso l'account. Oppure se vittima di ciò può contattarci per risolvere la questione.</p>
<p>5) Se l'utente è un utente registrato loggato allora viene controllato se non sia stato bannato. Questo per fare sì che un ban di un amministratore abbia effetto non appena l'utente
cerchi di caricare una pagina diversa da quella in cui è. In questo modo una volta bannato un utente non può più eseguire nessuna operazione. Se bannato viene quindi eliminato dalla sessione.</p>
<p>6) Se non è presente un cookie con le preferenze ne viene istanziato uno nuovo. Durata del cookie 30 giorni. non contiene dati particolarmente sensibili quindi può essere tenuto per un ungo periodo di tempo.</p>
<p>7) Viene, quindi, parsato l'URL e se viene richiesta la classe Utility allora si dà errore 403 forbidden.
Lo stesso errore viene fornito se si tenta di accedere ad un metodo privato di una qualsiasi classe Controller.</p>
<p>8) Infine se esiste una classe controller con il relativo metodo questa viene chiamata. Altrimenti viene generata una schermata di errore</p>                    <h4>Parameters</h4>
                    <table class="table table-condensed table-hover">                            <tr>
                                <td>string</td>
                                <td>$url</td>
                                <td><p>, url richiesto dall'utente.</p></td>
                            </tr>                    </table>                    <h4>Throws</h4>
                    <dl>                            <dt>\SmartyException</dt>
                            <dd></dd>                    </dl>            </article>
        </div>
        <aside class="span4 detailsbar">
            <h1><i class="icon-arrow-down"></i></h1>                <span class="label label-info">static</span>            <dl>            </dl>
            <h2>Tags</h2>
            <table class="table table-condensed">                    <tr><td colspan="2"><em>None found</em></td></tr>            </table>
        </aside>
    </div>        </div>
    </section>

    <div id="source-view" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="source-view-label" aria-hidden="true">
        <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
            <h3 id="source-view-label">CMain.php</h3>
        </div>
        <div class="modal-body">
            <pre data-src="../files/Controller/CMain.php.txt" class="language-php line-numbers"></pre>
        </div>
    </div>
    <footer class="row-fluid">
        <section class="span10 offset2">
            <section class="row-fluid">
                <section class="span10 offset1">
                    <section class="row-fluid footer-sections">
                        <section class="span4">                            <h1><i class="icon-code"></i></h1>
                            <div>
                                <ul>                                </ul>
                            </div>
                        </section>
                        <section class="span4">                            <h1><i class="icon-bar-chart"></i></h1>
                            <div>
                                <ul>
                                    <li><a href="../graphs/class.html">Class Hierarchy Diagram</a></li>
                                </ul>
                            </div>
                        </section>
                        <section class="span4">                            <h1><i class="icon-pushpin"></i></h1>
                            <div>
                                <ul>
                                    <li><a href="../reports/errors.html">Errors</a></li>
                                    <li><a href="../reports/markers.html">Markers</a></li>
                                </ul>
                            </div>
                        </section>
                    </section>
                </section>
            </section>
            <section class="row-fluid">
                <section class="span10 offset1">
                    <hr />
                    Documentation is powered by <a href="http://www.phpdoc.org/">phpDocumentor </a> and authored
                    onJune 14th, 2020 at 20:07.
                </section>
            </section>
        </section>
    </footer>
</div>

</body>
</html>
